(function(e){function t(t){for(var r,s,n=t[0],o=t[1],l=t[2],c=0,d=[];c<n.length;c++)s=n[c],Object.prototype.hasOwnProperty.call(p,s)&&p[s]&&d.push(p[s][0]),p[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==p[o]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},p={index:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/fapiao/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("b6fa")},"4b65":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'#app[data-v-0537e920]{width:100%;height:100%;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;line-height:30px}#app .resultWrapper[data-v-0537e920]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:600px;padding:32px 16px}#app .resultWrapper .resultList[data-v-0537e920]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}#app .resultWrapper .resultList.hasRepeat[data-v-0537e920]{color:#67c23a}#app .resultWrapper .resultList.repeatDate[data-v-0537e920]{color:#e6a23c}#app .resultWrapper .resultList.repeatCard[data-v-0537e920]{color:#f56c6c}#app .resultWrapper .resultList.repeatDate[data-v-0537e920]:after{content:"和第" attr(data-repeat) "个发票日期重复";display:block;width:200px;color:inherit}#app .resultWrapper .resultList.repeatCard[data-v-0537e920]:after{content:"和第" attr(data-repeat) "个车牌号重复";display:block;width:200px;color:inherit}#app .resultWrapper .resultList .resultCard[data-v-0537e920],#app .resultWrapper .resultList .resultDate[data-v-0537e920],#app .resultWrapper .resultList .resultPrice[data-v-0537e920]{position:relative;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:120px;margin:0;overflow:visible}#app .resultWrapper .resultList .resultDate[data-v-0537e920]{width:160px}#app .resultWrapper .wrapper[data-v-0537e920]{color:#409eff}#app .resultWrapper .invoiceList[data-v-0537e920]{position:relative;margin:10px 0 0}#app .resultWrapper .invoiceList[data-v-0537e920]:first-child{margin-top:30px}#app .inputWrapper[data-v-0537e920]{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;min-width:300px;padding:32px}#app .inputWrapper .inputArea[data-v-0537e920]{width:100%;height:500px}',""]),e.exports=t},"5e6b":function(e,t,a){"use strict";var r=a("c598"),p=a.n(r);p.a},b6fa:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"resultWrapper"},[e._l(e.formatData.result,(function(t,r){return a("div",{key:r,staticClass:"resultList",class:[{hasRepeat:e.repeatData[r]},{repeatDate:t.repeatDate>-1},{repeatCard:t.repeatCard>-1}],attrs:{"data-repeat":t.repeatCard+1||t.repeatDate+1||""}},[a("div",[e._v(e._s(r+1)+"、")]),a("div",{staticClass:"resultCard"},[e._v("车牌： "+e._s(t.card))]),a("div",{staticClass:"resultDate"},[e._v("日期： "+e._s(t.date))]),a("div",{staticClass:"resultPrice"},[e._v("金额： "+e._s(t.price))])])})),a("div",{staticClass:"wrapper"},[e._v("发票数量: "+e._s(e.formatData.size)+", 总金额："+e._s(e.formatData.total)+", 去重后总金额："+e._s(e.formatData.sum))]),a("section",[e._l(e.statistic.result,(function(t,r){return a("div",{key:r,staticClass:"invoiceList"},[e._v(" 金额："+e._s(t.price)+", 数量: "+e._s(t.total)+", 合计: "+e._s(t.sum)+" ")])})),a("div",{staticClass:"wrapper"},[e._v("总计 发票数量: "+e._s(e.statistic.size)+", 总金额："+e._s(e.statistic.sum))])],2)],2),a("div",{staticClass:"inputWrapper"},[a("p",[e._v("此处输入发票， 每行一条发票信息")]),e._m(0),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"inputArea",attrs:{placeholder:"例：ta137, 195, 2020-01-08"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("输入格式： 车牌号, 发票金额, 发票日期。"),a("br"),e._v("可以使用逗号(,，)、空格、小数点(.)、星号(*)、斜杠(/)分隔")])}],s=(a("4de4"),a("4160"),a("d81d"),a("4ec9"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("3835")),n=a("2909"),o={name:"App",components:{},data:function(){return{value:""}},computed:{formatData:function(){var e=this.value.split(/\s*\r?\n\s*/).filter((function(e){return!!e})),t=0,a=0,r=[],p={},i={},s={};for(var n in e.forEach((function(e,t){var n=e.replace(/^\s*|\s*$/g,"").split(/\s*[\.|\,|\，|\s+|\*|\/]\s*/),o=(n[0]||"").toUpperCase(),l=n[1]&&parseInt(n[1],10)||0,u=n[2]||"";a+=l;var c=!1,d=!1;p[o]>-1?c=!0:p[o]=t,u&&i[u]>-1?d=!0:i[u]=t,s[o]=c||d?Math.max(s[o],l):l,r.push({card:o,price:l,date:u,repeatCard:c?p[o]:-1,repeatDate:d?i[u]:-1})})),s)s[n]&&(t+=s[n]);return{total:a,sum:t,result:r,size:e.length}},statistic:function(){var e=this.formatData.result.filter((function(e){return e.repeatCard<0&&e.repeatDate<0})).sort((function(e,t){return e.price-t.price})),t=0,a=new Map;return e.forEach((function(e){var r=a.get(e.price);a.set(e.price,(r||0)+1),t+=e.price})),{sum:t,size:e.length,result:Object(n["a"])(a.entries()).map((function(e){var t=Object(s["a"])(e,2),a=t[0],r=t[1];return{price:a,sum:a*r,total:r}}))}},repeatData:function(){var e=this.formatData.result.filter((function(e){return e.repeatCard>-1||e.repeatDate>-1})),t={};return e.forEach((function(e){e.repeatCard>-1&&(t[e.repeatCard]?t[e.repeatCard]["repeatCard"]=!0:t[e.repeatCard]={repeatCard:!0}),e.repeatDate>-1&&(t[e.repeatDate]?t[e.repeatDate]["repeatDate"]=!0:t[e.repeatDate]={repeatDate:!0})})),t}},created:function(){},mounted:function(){},methods:{}},l=o,u=(a("5e6b"),a("2877")),c=Object(u["a"])(l,p,i,!1,null,"0537e920",null),d=c.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(d)}}).$mount("#app")},c598:function(e,t,a){var r=a("4b65");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var p=a("499e").default;p("f0d36b4c",r,!0,{sourceMap:!1,shadowMode:!1})}});